@model OrchardCore.Cms.BookingModule.ViewModels.EventBookingViewModel
@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor

<div class="event-booking">
    <h1>@Model.Title</h1>
    <p><strong>地点:</strong> @Model.Location</p>
    <p><strong>开始时间:</strong> @Model.StartDateTime?.ToString("yyyy-MM-dd HH:mm")</p>
    <p><strong>结束时间:</strong> @Model.EndDateTime?.ToString("yyyy-MM-dd HH:mm")</p>
    <p><strong>可预约人数:</strong> @Model.Capacity</p>
    <p><strong>已预约人数:</strong> @Model.BookedCount</p>

    @if (Model.CanBook)
    {
        <form asp-action="Book" method="post">
            <input type="hidden" name="EventBookingContentItemId" value="@Model.ContentItemId" />
            <button type="submit" class="btn btn-primary">立即预约</button>
        </form>
    }
    else
    {
        <p class="text-warning">无法预约</p>
    }
</div>